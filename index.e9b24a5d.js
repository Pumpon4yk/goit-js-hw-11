!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),s=a("h6c0i"),u=a("5IjG7"),c=a("kJ0yB"),d=a("llrIs"),l=document.querySelector(".search-form"),f=document.querySelector(".gallery"),h=document.querySelector(".load-more"),p="",y=1,v={},b=new(e(u))(".gallery a");function g(){return(g=e(o)(e(i).mark((function t(r){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),p=r.currentTarget.elements.searchQuery.value.trim(),f.innerHTML="",h.classList.add("hidden"),y=1,""!==p){e.next=7;break}return e.abrupt("return",s.Notify.warning("No data to search"));case 7:return e.prev=7,e.next=10,(0,c.default)(p,y);case 10:if(0!==(v=e.sent).data.hits.length){e.next=13;break}return e.abrupt("return",s.Notify.failure("Sorry, there are no images matching your search query. Please try again."));case 13:if(!(v.data.hits.length<40)){e.next=17;break}return h.classList.add("hidden"),m(v),e.abrupt("return");case 17:h.classList.remove("hidden"),w(!0),m(v),w(!1),e.next=26;break;case 23:return e.prev=23,e.t0=e.catch(7),e.abrupt("return",s.Notify.info("We're sorry, but you've reached the end of search results."));case 26:case"end":return e.stop()}}),t,null,[[7,23]])})))).apply(this,arguments)}function m(e){f.insertAdjacentHTML("beforeend",(0,d.default)(e.data.hits)),1===y&&s.Notify.success("Hooray! We found ".concat(e.data.totalHits," images.")),b.refresh()}function x(){return(x=e(o)(e(i).mark((function t(){var r,n,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),y+=1,e.prev=2,e.next=5,(0,c.default)(p,y);case 5:(r=e.sent).data.hits.length<40&&(h.classList.add("hidden"),s.Notify.info("We're sorry, but you've reached the end of search results.")),m(r),w(!1),n=f.firstElementChild.getBoundingClientRect(),a=n.height,window.scrollBy({top:2*a,behavior:"smooth"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),h.classList.add("hidden"),s.Notify.info("We're sorry, but you've reached the end of search results.");case 17:case"end":return e.stop()}}),t,null,[[2,13]])})))).apply(this,arguments)}function w(e){h.disabled=e,h.textContent=e?"Loading":"Load more"}l.addEventListener("submit",(function(e){return g.apply(this,arguments)})),h.addEventListener("click",(function(){return x.apply(this,arguments)}))}();
//# sourceMappingURL=index.e9b24a5d.js.map
